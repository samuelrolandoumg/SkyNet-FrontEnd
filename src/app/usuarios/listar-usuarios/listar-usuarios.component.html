<div class="contenedor-boton-derecha">
  <button class="btn-descargar" (click)="descargarPDF()">📄 Descargar PDF</button>
</div>

<br>

<!-- Contenido que se exportará -->
<div class="contenedor-listado" #contenidoPDF>

  <h2><i class="fa-solid fa-users-viewfinder"></i> Lista de Usuarios</h2>

  <div *ngFor="let supervisor of supervisores">
    <div class="card-supervisor" (click)="toggleTecnicos(supervisor.idUsuario)">
      <span class="icono-user">🧑‍💼</span>
      <strong>{{ supervisor.usuario }}</strong>
      <button class="btn-editar" (click)="editarUsuario(supervisor.idUsuario, $event)">Editar</button>
      <button class="btn-icon" (click)="eliminarUsuario(supervisor.idUsuario, $event)">
        <i class="fa-solid fa-trash-can"></i>
      </button>
    </div>

    <div class="contenedor-tecnicos" *ngIf="supervisor.mostrar" [@expandirContraer]>
      <div *ngIf="supervisor.tecnicos && supervisor.tecnicos.length > 0; else sinTecnicos">
        <div *ngFor="let tecnico of supervisor.tecnicos" class="tecnico">
          🔧 {{ tecnico.nombreTecnico }} <span class="rol">({{ tecnico.rol }})</span>
          <button class="btn-editar-chico" (click)="editarUsuario(tecnico.idUsuario, $event)">✏️</button>
          <button class="btn-icon-sm" (click)="eliminarUsuario(tecnico.idUsuario, $event)">
            <i class="fa-solid fa-trash-can"></i>
          </button>
        </div>
      </div>
      <ng-template #sinTecnicos>
        <div class="sin-tecnicos">🚫 Sin técnicos asignados</div>
      </ng-template>
    </div>
  </div>
</div>