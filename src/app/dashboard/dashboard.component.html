<div class="contenedor-dashboard-final">
  <div class="header-dashboard">
    <button class="btn-cerrar" (click)="cerrarSesion()">Cerrar sesiÃ³n</button>
  </div>

  <h1 class="titulo-saludo">Hola, {{ usuario?.nombre }}</h1>
  <p class="subtitulo">Tu rol es:</p>
  <p class="rol">{{ usuario?.rol }}</p>

  <!-- ğŸ”” ALERTAS SOLO PARA TECNICOS -->
  <div *ngIf="usuario?.rol === 'TECNICO' && alertas.length > 0" class="alertas-box">
    <h3 class="alertas-title">ğŸ“¢ Alertas recientes</h3>
    <ul class="alertas-list">
      <li *ngFor="let alerta of alertas">
        <i class="fa-solid fa-triangle-exclamation icono-alerta"></i>
        {{ alerta.mensaje }}
        <span class="fecha-alerta">({{ alerta.fechaAlerta | date:'short' }})</span>
      </li>
    </ul>
  </div>

  <div *ngIf="usuario?.rol === 'SUPERVISOR' || usuario?.rol === 'ADMIN'" class="supervisor-dashboard">
    <h2 class="section-title">ğŸ“Š Resumen de visitas</h2>

    <div class="metric-box">
      <p class="metric-label">Total de visitas:</p>
      <p class="metric-value">{{ totalVisitas }}</p>
    </div>

    <div class="chart-container">
      <canvas baseChart [data]="barChartData" [type]="'bar'"></canvas>
    </div>
  </div>


</div>